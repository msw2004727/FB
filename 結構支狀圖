[根目錄]
├── api/ (後端API路由模組)
│   ├── aiConfig.js (AI模型中控設定檔)
│   ├── authRoutes.js (使用者認證路由：註冊、登入)
│   ├── bountyRoutes.js (懸賞任務路由：讀取、領取)
│   ├── epilogue.js (遊戲結局路由：生成結局故事)
│   ├── gameHelpers.js (遊戲核心輔助函式庫)
│   ├── gameplayRoutes.js (核心遊戲流程路由：主互動、戰鬥)
│   ├── gameRoutes.js (遊戲API總路由器)
│   ├── gmRoutes.js (GM創世神面板功能路由)
│   ├── itemManager.js (物品系統管理器)
│   ├── libraryRoutes.js (江湖圖書館路由)
│   ├── locationManager.js (地點狀態管理器)
│   ├── mapRoutes.js (世界地圖路由)
│   ├── npcRoutes.js (NPC互動路由：對話、贈禮)
│   └── stateRoutes.js (遊戲狀態讀取路由)
│
├── middleware/ (後端中介層)
│   └── auth.js (JWT身份驗證中介層)
│
├── prompts/ (AI指令稿)
│   ├── story_components/ (故事AI的核心規則元件)
│   │   ├── interactionRule.js (戰鬥觸發與陣營判定規則)
│   │   ├── itemLedgerRule.js (物品帳本系統規則)
│   │   ├── martialArtsRule.js (武學系統規則)
│   │   ├── npcRule.js (NPC資料結構規則)
│   │   ├── outputStructureRule.js (最終JSON輸出結構規則)
│   │   ├── playerAttributeRule.js (玩家屬性與時間規則)
│   │   ├── romanceRule.js (戀愛與心動值規則)
│   │   ├── systemInteractionRule.js (系統級互動規則)
│   │   └── worldviewAndProgressionRule.js (世界觀與進程規則)
│   │
│   ├── actionClassifierPrompt.js (玩家行動意圖分類AI)
│   ├── anachronismPrompt.js (時代錯置物品處理AI)
│   ├── bountyGeneratorPrompt.js (懸賞任務生成AI)
│   ├── chatMasterPrompt.js (NPC聊天AI)
│   ├── chatSummaryPrompt.js (聊天內容總結AI)
│   ├── combatPrompt.js (戰鬥過程裁決AI)
│   ├── combatSetupPrompt.js (戰鬥場景佈置AI)
│   ├── deathCausePrompt.js (玩家死因生成AI)
│   ├── encyclopediaPrompt.js (江湖百科生成AI)
│   ├── epiloguePrompt.js (遊戲結局生成AI)
│   ├── giveItemPrompt.js (NPC收禮反應AI)
│   ├── itemGeneratorPrompt.js (物品設計圖生成AI)
│   ├── locationGeneratorPrompt.js (新地點檔案生成AI)
│   ├── narrativeForGivePrompt.js (贈予事件旁白生成AI)
│   ├── narrativePrompt.js (數據轉小說旁白AI)
│   ├── npcCreatorPrompt.js (NPC詳細人設生成AI)
│   ├── prequelPrompt.js (前情提要生成AI)
│   ├── proactiveChatPrompt.js (NPC主動對話生成AI)
│   ├── randomEventPrompt.js (隨機事件生成AI)
│   ├── relationGraphPrompt.js (人物關係圖生成AI)
│   ├── rewardGeneratorPrompt.js (懸賞獎勵生成AI)
│   ├── romanceEventPrompt.js (戀愛事件生成AI)
│   ├── storyPrompt.js (核心故事生成AI)
│   ├── suggestionPrompt.js (書僮行動建議AI)
│   └── surrenderPrompt.js (戰鬥認輸裁決AI)
│
├── scripts/ (前端JavaScript邏輯)
│   ├── api.js (前端API請求管理器)
│   ├── bounties.js (懸賞告示板頁面邏輯)
│   ├── config.js (前端設定檔：後端網址等)
│   ├── encyclopedia.js (江湖百科頁面邏輯)
│   ├── library.js (江湖圖書館頁面邏輯)
│   ├── main.js (遊戲主頁面核心邏輯)
│   ├── map.js (世界地圖頁面邏輯)
│   ├── modalManager.js (所有彈出視窗管理器)
│   ├── novel.js (我的江湖路頁面邏輯)
│   ├── relations.js (人物關係圖頁面邏輯)
│   ├── tips.js (載入中提示文字庫)
│   └── uiUpdater.js (前端介面更新管理器)
│
├── styles/ (前端CSS樣式)
│   ├── auth.css (登入註冊頁面樣式)
│   ├── base.css (基礎全域樣式)
│   ├── bounties.css (懸賞告示板頁面樣式)
│   ├── components.css (通用小元件樣式)
│   ├── game.css (遊戲主頁面樣式)
│   ├── gmPanel.css (GM創世神面板樣式)
│   ├── library.css (江湖圖書館頁面樣式)
│   ├── modals.css (所有彈出視窗樣式)
│   ├── novel.css (小說/百科頁面樣式)
│   └── skills.css (武學總覽彈窗樣式)
│
├── bounties.html (懸賞告示板頁面)
├── encyclopedia.html (江湖百科頁面)
├── index.html (遊戲主頁面)
├── library.html (江湖圖書館頁面)
├── login.html (登入頁面)
├── login.js (登入頁面邏輯)
├── map.html (世界地圖頁面)
├── novel.html (我的江湖路頁面)
├── package-lock.json (npm套件版本鎖定檔)
├── package.json (專案設定與依賴套件檔)
├── register.html (註冊頁面)
├── register.js (註冊頁面邏輯)
├── relations.html (人物關係圖頁面)
├── server.js (後端伺服器啟動主檔案)
└── viewport.html (玩家教學手冊頁面)
