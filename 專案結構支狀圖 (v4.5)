.
â”œâ”€â”€ ğŸ“ api/ (å¾Œç«¯)
â”‚   â”œâ”€â”€ ğŸ“ admin/ (å¾Œç«¯)
â”‚   â”‚   â”œâ”€â”€ adminAuth.js (å¾Œå°ç®¡ç†å“¡èº«ä»½é©—è­‰)
â”‚   â”‚   â”œâ”€â”€ adminRoutes.js (å¾Œå°ç®¡ç†åŠŸèƒ½ç¸½è·¯ç”±)
â”‚   â”‚   â”œâ”€â”€ balanceService.js (æŸ¥è©¢AIæœå‹™é¤˜é¡)
â”‚   â”‚   â””â”€â”€ logService.js (è®€å–ç³»çµ±æ—¥èªŒ)
â”‚   â”œâ”€â”€ ğŸ“ gameplay/ (å¾Œç«¯)
â”‚   â”‚   â”œâ”€â”€ actionHandler.js (æ ¸å¿ƒï¼šè™•ç†ç©å®¶çš„ä¸»è¦å‹•ä½œæŒ‡ä»¤)
â”‚   â”‚   â”œâ”€â”€ preActionChecks.js (åŸ·è¡Œå‹•ä½œå‰çš„ç‹€æ…‹æª¢æŸ¥ï¼Œå¦‚ç²¾åŠ›)
â”‚   â”‚   â”œâ”€â”€ staminaManager.js (ç®¡ç†ç©å®¶çš„ç²¾åŠ›æ¶ˆè€—èˆ‡æ¢å¾©)
â”‚   â”‚   â””â”€â”€ stateUpdaters.js (æ ¸å¿ƒï¼šæ›´æ–°éŠæˆ²ä¸–ç•Œèˆ‡ç©å®¶ç‹€æ…‹)
â”‚   â”œâ”€â”€ ğŸ“ models/ (å¾Œç«¯/è³‡æ–™åº«)
â”‚   â”‚   â”œâ”€â”€ inventoryModel.js (å®šç¾©ç‰©å“èˆ‡è£å‚™çš„æ•¸æ“šæ¨¡å‹èˆ‡æ“ä½œ)
â”‚   â”‚   â””â”€â”€ userModel.js (å®šç¾©æ–°ç©å®¶çš„é è¨­æ•¸æ“šçµæ§‹)
â”‚   â”œâ”€â”€ ğŸ“ routes/ (å¾Œç«¯)
â”‚   â”‚   â”œâ”€â”€ npcChatRoutes.js (è™•ç†èˆ‡NPCçš„èŠå¤©åŠè´ˆç¦®)
â”‚   â”‚   â”œâ”€â”€ npcProfileRoutes.js (è™•ç†ç²å–NPCè©³ç´°è³‡æ–™çš„è«‹æ±‚)
â”‚   â”‚   â””â”€â”€ npcTradeRoutes.js (è™•ç†èˆ‡NPCçš„äº¤æ˜“æµç¨‹)
â”‚   â”œâ”€â”€ ğŸ“ services/ (å¾Œç«¯)
â”‚   â”‚   â”œâ”€â”€ aiService.js (æ ¸å¿ƒï¼šæ‰€æœ‰å°å¤–éƒ¨AIæ¨¡å‹(GPT/Geminiç­‰)çš„è«‹æ±‚éƒ½ç¶“ç”±æ­¤è™•)
â”‚   â”‚   â”œâ”€â”€ backgroundTaskProcessor.js (è™•ç†è€—æ™‚é•·çš„èƒŒæ™¯ä»»å‹™ï¼Œé¿å…å‰ç«¯ç­‰å¾…)
â”‚   â”‚   â”œâ”€â”€ beggarService.js (ã€Œä¸å¹«æƒ…å ±ç¶²ã€åŠŸèƒ½çš„å°ˆå±¬é‚è¼¯)
â”‚   â”‚   â””â”€â”€ npcCreationService.js (ç”Ÿæˆæ–°NPCçš„èƒŒæ™¯æ•…äº‹èˆ‡äººç‰©è¨­å®š)
â”‚   â”œâ”€â”€ aiConfig.js (å¾Œç«¯ - AIæ¨¡å‹è¨­å®šæª”ï¼Œç”¨æ–¼åˆ‡æ›ä¸åŒä»»å‹™ä½¿ç”¨çš„AI)
â”‚   â”œâ”€â”€ authRoutes.js (å¾Œç«¯ - è™•ç†ç©å®¶è¨»å†Šèˆ‡ç™»å…¥)
â”‚   â”œâ”€â”€ beggarRoutes.js (å¾Œç«¯ - ã€Œä¸å¹«æƒ…å ±ç¶²ã€åŠŸèƒ½çš„APIè·¯ç”±)
â”‚   â”œâ”€â”€ bountyRoutes.js (å¾Œç«¯ - è™•ç†æ‡¸è³ä»»å‹™çš„ç™¼å¸ƒèˆ‡é ˜å–)
â”‚   â”œâ”€â”€ cacheManager.js (å¾Œç«¯ - ç®¡ç†ä¼ºæœå™¨å…§å­˜å¿«å–ï¼Œå¦‚NPCå§“ååˆ—è¡¨)
â”‚   â”œâ”€â”€ combatRoutes.js (å¾Œç«¯ - è™•ç†æ‰€æœ‰æˆ°é¬¥ç›¸é—œçš„API)
â”‚   â”œâ”€â”€ contextBuilder.js (å¾Œç«¯ - çµ„åˆéŠæˆ²æ‰€æœ‰ç›¸é—œè³‡è¨Šï¼Œå»ºæ§‹çµ¦AIçš„ä¸Šä¸‹æ–‡)
â”‚   â”œâ”€â”€ dataIntegrityService.js (å¾Œç«¯ - æ•¸æ“šå¥åº·æª¢æŸ¥èˆ‡ä¿®å¾©æœå‹™)
â”‚   â”œâ”€â”€ economyManager.js (å¾Œç«¯ - ç®¡ç†ç©å®¶çš„è²¨å¹£ï¼ˆéŠ€å…©ï¼‰)
â”‚   â”œâ”€â”€ epilogue.js (å¾Œç«¯ - ç”Ÿæˆç©å®¶è§’è‰²æ­»äº¡å¾Œçš„çµå±€æ•…äº‹)
â”‚   â”œâ”€â”€ gameRoutes.js (å¾Œç«¯ - éŠæˆ²æ ¸å¿ƒåŠŸèƒ½çš„ç¸½è·¯ç”±)
â”‚   â”œâ”€â”€ gameplayRoutes.js (å¾Œç«¯ - è™•ç†ç©å®¶æ ¸å¿ƒäº’å‹•çš„è·¯ç”±)
â”‚   â”œâ”€â”€ gcpRoutes.js (å¾Œç«¯ - ä¸²æ¥Google Cloud Platformæœå‹™çš„è·¯ç”±)
â”‚   â”œâ”€â”€ gmRoutes.js (å¾Œç«¯ - GM(éŠæˆ²ç®¡ç†å“¡)å·¥å…·çš„APIè·¯ç”±)
â”‚   â”œâ”€â”€ identityManager.js (å¾Œç«¯ - æ ¹æ“šä¸–ç•Œç‹€æ…‹æ±ºå®šNPCèº«ä»½)
â”‚   â”œâ”€â”€ interactionRoutes.js (å¾Œç«¯ - èˆŠç‰ˆçš„äº’å‹•è·¯ç”±ï¼Œå·²è¢«é‡æ§‹)
â”‚   â”œâ”€â”€ itemManager.js (å¾Œç«¯ - ç®¡ç†ç©å®¶èˆ‡NPCçš„ç‰©å“å¢æ¸›)
â”‚   â”œâ”€â”€ libraryRoutes.js (å¾Œç«¯ - ã€Œæ±Ÿæ¹–åœ–æ›¸é¤¨ã€åŠŸèƒ½çš„APIè·¯ç”±)
â”‚   â”œâ”€â”€ locationManager.js (å¾Œç«¯ - ç®¡ç†éŠæˆ²ä¸–ç•Œä¸­åœ°é»ç‹€æ…‹çš„è®ŠåŒ–)
â”‚   â”œâ”€â”€ mapRoutes.js (å¾Œç«¯ - ç”Ÿæˆä¸–ç•Œåœ°åœ–æ•¸æ“š)
â”‚   â”œâ”€â”€ npcHelpers.js (å¾Œç«¯ - NPCç›¸é—œçš„è¼”åŠ©å‡½å¼)
â”‚   â”œâ”€â”€ npcRoutes.js (å¾Œç«¯ - NPCäº’å‹•åŠŸèƒ½çš„ç¸½è·¯ç”±)
â”‚   â”œâ”€â”€ playerStateHelpers.js (å¾Œç«¯ - ç©å®¶ç‹€æ…‹ç›¸é—œçš„è¼”åŠ©å‡½å¼)
â”‚   â”œâ”€â”€ relationshipManager.js (å¾Œç«¯ - ç®¡ç†NPCä¹‹é–“çš„è¤‡é›œäººéš›é—œä¿‚)
â”‚   â”œâ”€â”€ reputationManager.js (å¾Œç«¯ - ç®¡ç†ç©å®¶åœ¨æ±Ÿæ¹–ä¸­çš„è²æœ›è®ŠåŒ–)
â”‚   â”œâ”€â”€ stateRoutes.js (å¾Œç«¯ - æä¾›éŠæˆ²å„ç¨®ç‹€æ…‹æŸ¥è©¢çš„API)
â”‚   â””â”€â”€ worldEngine.js (å¾Œç«¯ - è² è²¬ç”Ÿæˆæ–°åœ°é»ç­‰ä¸–ç•Œç´šçš„å…§å®¹)
â”œâ”€â”€ ğŸ“ prompts/ (å¾Œç«¯)
â”‚   â”œâ”€â”€ ğŸ“ story_components/ (å¾Œç«¯)
â”‚   â”‚   â”œâ”€â”€ interactionRule.js (AIè¦å‰‡ï¼šNPCäº’å‹•èˆ‡æˆ°é¬¥)
â”‚   â”‚   â”œâ”€â”€ itemLedgerRule.js (AIè¦å‰‡ï¼šç‰©å“ç³»çµ±)
â”‚   â”‚   â”œâ”€â”€ martialArtsRule.js (AIè¦å‰‡ï¼šæ­¦å­¸ç³»çµ±)
â”‚   â”‚   â”œâ”€â”€ npcRule.js (AIè¦å‰‡ï¼šNPCæ•¸æ“šçµæ§‹)
â”‚   â”‚   â”œâ”€â”€ outputStructureRule.js (AIè¦å‰‡ï¼šJSONè¼¸å‡ºæ ¼å¼)
â”‚   â”‚   â”œâ”€â”€ playerAttributeRule.js (AIè¦å‰‡ï¼šç©å®¶å±¬æ€§)
â”‚   â”‚   â”œâ”€â”€ romanceRule.js (AIè¦å‰‡ï¼šæˆ€æ„›ç³»çµ±)
â”‚   â”‚   â”œâ”€â”€ systemInteractionRule.js (AIè¦å‰‡ï¼šç³»çµ±äº’å‹•)
â”‚   â”‚   â””â”€â”€ worldviewAndProgressionRule.js (AIè¦å‰‡ï¼šä¸–ç•Œè§€èˆ‡éŠæˆ²é€²ç¨‹)
â”‚   â”œâ”€â”€ actionClassifierPrompt.js (AIæŒ‡ä»¤ï¼šåˆ†æç©å®¶æ„åœ–)
â”‚   â”œâ”€â”€ anachronismPrompt.js (AIæŒ‡ä»¤ï¼šè™•ç†æ™‚ä»£éŒ¯ç½®çš„ç‰©å“)
â”‚   â”œâ”€â”€ beggarInquiryPrompt.js (AIæŒ‡ä»¤ï¼šä¸å¹«æƒ…å ±å•ç­”)
â”‚   â”œâ”€â”€ bountyGeneratorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ‡¸è³ä»»å‹™)
â”‚   â”œâ”€â”€ chatMasterPrompt.js (AIæŒ‡ä»¤ï¼šNPCèŠå¤©äº’å‹•)
â”‚   â”œâ”€â”€ chatSummaryPrompt.js (AIæŒ‡ä»¤ï¼šç¸½çµèŠå¤©å…§å®¹)
â”‚   â”œâ”€â”€ combatPrompt.js (AIæŒ‡ä»¤ï¼šè£æ±ºæˆ°é¬¥å›åˆ)
â”‚   â”œâ”€â”€ combatSetupPrompt.js (AIæŒ‡ä»¤ï¼šè¨­å®šæˆ°é¬¥é–‹å ´)
â”‚   â”œâ”€â”€ deathCausePrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆè§’è‰²æ­»å› )
â”‚   â”œâ”€â”€ encyclopediaPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ±Ÿæ¹–ç™¾ç§‘)
â”‚   â”œâ”€â”€ epiloguePrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆçµå±€æ•…äº‹)
â”‚   â”œâ”€â”€ giveItemPrompt.js (AIæŒ‡ä»¤ï¼šè™•ç†è´ˆç¦®åæ‡‰)
â”‚   â”œâ”€â”€ itemGeneratorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ–°ç‰©å“)
â”‚   â”œâ”€â”€ locationGeneratorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ–°åœ°é»)
â”‚   â”œâ”€â”€ mapGeneratorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆåœ°åœ–Mermaidèªæ³•)
â”‚   â”œâ”€â”€ narrativeForGivePrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆè´ˆç¦®äº‹ä»¶çš„æ—ç™½)
â”‚   â”œâ”€â”€ narrativePrompt.js (AIæŒ‡ä»¤ï¼šå°‡æ•¸æ“šè½‰åŒ–ç‚ºå°èªªæ—ç™½)
â”‚   â”œâ”€â”€ npcCreatorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ–°NPC)
â”‚   â”œâ”€â”€ npcMemoryPrompt.js (AIæŒ‡ä»¤ï¼šæ›´æ–°NPCå°ç©å®¶çš„è¨˜æ†¶)
â”‚   â”œâ”€â”€ postCombatPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæˆ°å¾Œçµæœ)
â”‚   â”œâ”€â”€ prequelPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆå‰æƒ…æè¦)
â”‚   â”œâ”€â”€ randomEventPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆéš¨æ©Ÿäº‹ä»¶)
â”‚   â”œâ”€â”€ relationGraphPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆé—œä¿‚åœ–Mermaidèªæ³•)
â”‚   â”œâ”€â”€ relationshipFixPrompt.js (AIæŒ‡ä»¤ï¼šä¿®å¾©NPCé—œä¿‚éˆ)
â”‚   â”œâ”€â”€ rewardGeneratorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ‡¸è³çå‹µ)
â”‚   â”œâ”€â”€ romanceEventPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæˆ€æ„›äº‹ä»¶)
â”‚   â”œâ”€â”€ skillGeneratorPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆæ–°æ­¦å­¸)
â”‚   â”œâ”€â”€ storyPrompt.js (AIæŒ‡ä»¤ï¼šæ ¸å¿ƒæ•…äº‹ç”Ÿæˆ)
â”‚   â”œâ”€â”€ suggestionPrompt.js (AIæŒ‡ä»¤ï¼šç”Ÿæˆè¡Œå‹•å»ºè­°)
â”‚   â””â”€â”€ tradeSummaryPrompt.js (AIæŒ‡ä»¤ï¼šç¸½çµäº¤æ˜“äº‹ä»¶)
â”œâ”€â”€ ğŸ“ scripts/ (å‰ç«¯)
â”‚   â”œâ”€â”€ api.js (å‰ç«¯ - çµ±ä¸€çš„APIè«‹æ±‚ç®¡ç†)
â”‚   â”œâ”€â”€ bounties.js (å‰ç«¯ - ã€Œæ‡¸è³å‘Šç¤ºæ¿ã€é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ config.js (å‰ç«¯ - é…ç½®æ–‡ä»¶ï¼Œå¦‚å¾Œç«¯URL)
â”‚   â”œâ”€â”€ dom.js (å‰ç«¯ - çµ±ä¸€ç®¡ç†DOMå…ƒç´ é¸æ“‡)
â”‚   â”œâ”€â”€ encyclopedia.js (å‰ç«¯ - ã€Œæ±Ÿæ¹–ç™¾ç§‘ã€é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ gameLoop.js (å‰ç«¯ - éŠæˆ²ä¸»å¾ªç’°èˆ‡æ ¸å¿ƒé‚è¼¯)
â”‚   â”œâ”€â”€ gameState.js (å‰ç«¯ - å…¨å±€ç‹€æ…‹ç®¡ç†)
â”‚   â”œâ”€â”€ gmManager.js (å‰ç«¯ - GMç®¡ç†é¢æ¿çš„ç•Œé¢é‚è¼¯)
â”‚   â”œâ”€â”€ interactionHandlers.js (å‰ç«¯ - è™•ç†ç©å®¶é»æ“Šç­‰äº’å‹•)
â”‚   â”œâ”€â”€ library.js (å‰ç«¯ - ã€Œæ±Ÿæ¹–åœ–æ›¸é¤¨ã€é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ login.js (å‰ç«¯ - ç™»å…¥é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ main.js (å‰ç«¯ - éŠæˆ²ä¸»é é¢çš„å…¥å£è…³æœ¬)
â”‚   â”œâ”€â”€ map.js (å‰ç«¯ - ã€Œä¸–ç•Œåœ°åœ–ã€é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ modalManager.js (å‰ç«¯ - ç®¡ç†æ‰€æœ‰å½ˆå‡ºå¼è¦–çª—)
â”‚   â”œâ”€â”€ novel.js (å‰ç«¯ - ã€Œæˆ‘çš„æ±Ÿæ¹–è·¯ã€é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ populateRulers.js (å¾Œç«¯ - ä¸€æ¬¡æ€§è…³æœ¬ï¼Œå¡«å……åœ°é»çµ±æ²»è€…)
â”‚   â”œâ”€â”€ register.js (å‰ç«¯ - è¨»å†Šé é¢é‚è¼¯)
â”‚   â”œâ”€â”€ relations.js (å‰ç«¯ - ã€Œäººç‰©é—œä¿‚åœ–ã€é é¢é‚è¼¯)
â”‚   â”œâ”€â”€ tips.js (å‰ç«¯ - å„²å­˜éŠæˆ²æç¤ºæ–‡å­—)
â”‚   â”œâ”€â”€ tradeManager.js (å‰ç«¯ - äº¤æ˜“ç•Œé¢çš„é‚è¼¯)
â”‚   â””â”€â”€ uiUpdater.js (å‰ç«¯ - è² è²¬æ›´æ–°æ‰€æœ‰éŠæˆ²ç•Œé¢å…ƒç´ )
â”œâ”€â”€ ğŸ“ styles/ (å‰ç«¯)
â”‚   â”œâ”€â”€ admin.css (å‰ç«¯ - å¾Œå°ç®¡ç†é é¢æ¨£å¼)
â”‚   â”œâ”€â”€ auth.css (å‰ç«¯ - ç™»å…¥/è¨»å†Šé é¢æ¨£å¼)
â”‚   â”œâ”€â”€ base.css (å‰ç«¯ - åŸºç¤æ¨£å¼èˆ‡è®Šæ•¸)
â”‚   â”œâ”€â”€ bounties.css (å‰ç«¯ - æ‡¸è³å‘Šç¤ºæ¿é é¢æ¨£å¼)
â”‚   â”œâ”€â”€ components.css (å‰ç«¯ - å¯é‡ç”¨çš„UIçµ„ä»¶æ¨£å¼)
â”‚   â”œâ”€â”€ game.css (å‰ç«¯ - éŠæˆ²ä¸»ç•Œé¢æ¨£å¼)
â”‚   â”œâ”€â”€ gmPanel.css (å‰ç«¯ - GMæ§åˆ¶å°æ¨£å¼)
â”‚   â”œâ”€â”€ library.css (å‰ç«¯ - æ±Ÿæ¹–åœ–æ›¸é¤¨é é¢æ¨£å¼)
â”‚   â”œâ”€â”€ modals_feedback.css (å‰ç«¯ - åé¥‹é¡å½ˆçª—(å¦‚æ­»äº¡ã€çµå±€)æ¨£å¼)
â”‚   â”œâ”€â”€ modals_info.css (å‰ç«¯ - è³‡è¨Šé¡å½ˆçª—(å¦‚æ­¦å­¸)æ¨£å¼)
â”‚   â”œâ”€â”€ modals_interaction.css (å‰ç«¯ - äº’å‹•é¡å½ˆçª—(å¦‚æˆ°é¬¥ã€èŠå¤©)æ¨£å¼)
â”‚   â”œâ”€â”€ modals_item.css (å‰ç«¯ - ç‰©å“è©³æƒ…å½ˆçª—æ¨£å¼)
â”‚   â”œâ”€â”€ modals_location.css (å‰ç«¯ - åœ°é»è©³æƒ…å½ˆçª—æ¨£å¼)
â”‚   â”œâ”€â”€ novel.css (å‰ç«¯ - å°èªª/ç™¾ç§‘é–±è®€é é¢æ¨£å¼)
â”‚   â”œâ”€â”€ skills.css (å‰ç«¯ - æ­¦å­¸ç¸½è¦½å½ˆçª—æ¨£å¼)
â”‚   â””â”€â”€ trade.css (å‰ç«¯ - äº¤æ˜“ç•Œé¢æ¨£å¼)
â”œâ”€â”€ admin.html (å‰ç«¯ - å¾Œå°ç®¡ç†é é¢)
â”œâ”€â”€ bounties.html (å‰ç«¯ - æ‡¸è³å‘Šç¤ºæ¿é é¢)
â”œâ”€â”€ encyclopedia.html (å‰ç«¯ - æ±Ÿæ¹–ç™¾ç§‘é é¢)
â”œâ”€â”€ index.html (å‰ç«¯ - éŠæˆ²ä¸»é é¢)
â”œâ”€â”€ library.html (å‰ç«¯ - æ±Ÿæ¹–åœ–æ›¸é¤¨é é¢)
â”œâ”€â”€ login.html (å‰ç«¯ - ç™»å…¥é é¢)
â”œâ”€â”€ map.html (å‰ç«¯ - ä¸–ç•Œåœ°åœ–é é¢)
â”œâ”€â”€ novel.html (å‰ç«¯ - å€‹äººå°èªªé é¢)
â”œâ”€â”€ package-lock.json (å¾Œç«¯ - é–å®šå°ˆæ¡ˆä¾è³´ç‰ˆæœ¬)
â”œâ”€â”€ package.json (å¾Œç«¯ - å®šç¾©å°ˆæ¡ˆåŠä¾è³´)
â”œâ”€â”€ register.html (å‰ç«¯ - è¨»å†Šé é¢)
â”œâ”€â”€ relations.html (å‰ç«¯ - äººç‰©é—œä¿‚åœ–é é¢)
â””â”€â”€ server.js (å¾Œç«¯ - ä¼ºæœå™¨ä¸»å…¥å£æ–‡ä»¶)
